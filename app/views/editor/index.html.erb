<div class="container">
  <form>
    <textarea id="edit" name="content"></textarea>
  </form>
</div>
<script>
  $(function() {
    $('#edit').froalaEditor({
      language: "zh_cn",
      width: 900,
      heightMin: 300,
      heightMax: 500,
      requestWithCORS: false,

      imageUploadDomain: "<%= Rails.application.config.qiniu_domain %>",
      imageUploadParam: 'file',
      imageUploadURL: 'http://upload.qiniu.com',
      imageUploadParams: { token: '<%= @uptoken %>'},
      imageUploadMethod: 'POST',
      imageMaxSize: 5 * 1024 * 1024,
      imageAllowedTypes: ['jpeg', 'jpg', 'png'],

      fileUploadDomain: "<%= Rails.application.config.qiniu_domain %>",
      fileUploadParam: 'file',
      fileUploadURL: 'http://upload.qiniu.com',
      fileUploadParams: { token: '<%= @uptoken %>'},
      fileUploadMethod: 'POST',
      fileMaxSize: 20 * 1024 * 1024,
      fileAllowedTypes: ['*']
    });
  });

  
</script>